import { NextApiRequest, NextApiResponse } from 'next';

const stories = [
  {
    storySlug: 'lost-in-translation',
    storyName: 'Lost in translation',
    storyImage: '/images/temp/lost-in-translation/preview.jpg',
    brandSlug: 'beyonder',
    brandName: 'Beyonder',
    publishedAt: '2020-10-08T09:15:08.849Z',
    authorName: 'Ayodele Olofintuade',
    authorAvatar: 'https://pickaface.net/gallery/avatar/unr_johndoe_170608_0222_2q7n9di.png',
    type: 'core',
    status: 'published',
    activeDiscussionsCount: 0,
    linkedStories: [],
    tags: ['beyonder'],
  },
  {
    storySlug: 'lost-in-translation-audio',
    storyName: 'Lost in translation audio',
    storyImage: 'https://i1.sndcdn.com/artworks-wDB35YA5rqfpykqo-ze4M0w-t500x500.jpg',
    brandSlug: 'beyonder',
    brandName: 'Beyonder',
    publishedAt: '2020-10-08T10:15:08.849Z',
    authorName: 'Ayodele Olofintuade',
    authorAvatar: 'https://pickaface.net/gallery/avatar/unr_johndoe_170608_0222_2q7n9di.png',
    type: 'core',
    status: 'published',
    activeDiscussionsCount: 0,
    linkedStories: [],
    tags: ['beyonder'],
  },
  {
    storySlug: 'beyond-borders',
    storyName: 'Beyond Borders',
    storyImage: '/images/temp/beyond-borders/preview.jpg',
    brandSlug: 'timeliner',
    brandName: 'Timeliner',
    publishedAt: '2020-10-08T15:15:08.849Z',
    authorName: 'Nd√©la Faye',
    authorAvatar: 'https://pickaface.net/gallery/avatar/unr_johndoe_170608_0222_2q7n9di.png',
    type: 'core',
    status: 'published',
    activeDiscussionsCount: 0,
    linkedStories: [],
    tags: ['timeliner'],
  },
  {
    storySlug: 'sample-story-1',
    storyName: 'Sample Story 1',
    storyImage:
      'https://images.unsplash.com/photo-1580989784216-4e9a8eb4e24a?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=300&q=60',
    brandSlug: 'bloomer',
    brandName: 'Bloomer',
    publishedAt: '2020-07-28T09:15:08.849Z',
    authorName: 'John Doe',
    authorAvatar: 'https://pickaface.net/gallery/avatar/unr_johndoe_170608_0222_2q7n9di.png',
    type: 'core',
    status: 'published',
    activeDiscussionsCount: 3,
    linkedStories: [],
    tags: ['tag1', 'tag2'],
  },
  {
    storySlug: 'sample-story-2',
    storyName: 'Sample Story 2',
    storyImage:
      'https://images.unsplash.com/photo-1517032880222-1afedf8c9d0d?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=333&q=80',
    brandSlug: 'beyonder',
    brandName: 'Beyonder',
    publishedAt: '2020-07-28T09:15:08.849Z',
    authorName: 'Jane Doe',
    authorAvatar: 'https://pickaface.net/gallery/avatar/unr_johndoe_170608_0222_2q7n9di.png',
    type: 'core',
    status: 'published',
    activeDiscussionsCount: 1,
    linkedStories: ['sample-story-1', 'sample-story-3'],
    tags: ['tag3', 'tag4'],
  },
  {
    storySlug: 'sample-story-3',
    storyName: 'Sample Story 3',
    storyImage:
      'https://images.unsplash.com/photo-1445503058969-7ae8721cd8c1?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=500&q=60',
    brandSlug: 'maker',
    brandName: 'Maker',
    publishedAt: '2020-07-28T09:15:08.849Z',
    authorName: 'Richard Doe',
    authorAvatar: 'https://pickaface.net/gallery/avatar/unr_johndoe_170608_0222_2q7n9di.png',
    type: 'core',
    status: 'published',
    activeDiscussionsCount: 0,
    linkedStories: ['sample-story-2'],
    tags: ['tag5'],
  },
  {
    storySlug: 'sample-story-4',
    storyName: 'Sample Story 4',
    storyImage:
      'https://images.unsplash.com/photo-1588656909074-a9ff6d608eb9?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=750&q=80',
    brandSlug: 'original',
    brandName: 'Original',
    publishedAt: '2020-07-28T09:15:08.849Z',
    authorName: 'John Doe',
    authorAvatar: 'https://pickaface.net/gallery/avatar/unr_johndoe_170608_0222_2q7n9di.png',
    type: 'core',
    status: 'draft',
    activeDiscussionsCount: 1,
    linkedStories: [],
    tags: ['tag1'],
  },
  {
    storySlug: 'sample-story-5',
    storyName: 'Sample Story 5',
    storyImage:
      'https://images.unsplash.com/photo-1571337547740-a56ef4b5aa05?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=400&q=80',
    brandSlug: 'outsider',
    brandName: 'Outsider',
    publishedAt: '2020-07-28T09:15:08.849Z',
    authorName: 'Richard Doe',
    authorAvatar: 'https://pickaface.net/gallery/avatar/unr_johndoe_170608_0222_2q7n9di.png',
    type: 'core',
    status: '',
    activeDiscussionsCount: 0,
    linkedStories: [],
    tags: ['tag2'],
  },
  {
    storySlug: 'sample-story-6',
    storyName: 'Sample Story 6',
    storyImage:
      'https://images.unsplash.com/photo-1560155069-ad79768f2666?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=400&q=80',
    brandSlug: 'timeliner',
    brandName: 'Timeliner',
    publishedAt: '2020-07-28T09:15:08.849Z',
    authorName: 'John Doe',
    authorAvatar: 'https://pickaface.net/gallery/avatar/unr_johndoe_170608_0222_2q7n9di.png',
    type: 'core',
    status: '',
    activeDiscussionsCount: 0,
    linkedStories: [],
    tags: ['tag3'],
  },
  {
    storySlug: 'sample-story-7',
    storyName: 'Sample Story 7',
    storyImage:
      'https://images.unsplash.com/photo-1474979266404-7eaacbcd87c5?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=361&q=80',
    brandSlug: 'bloomer',
    brandName: 'Bloomer',
    publishedAt: '2020-07-28T09:15:08.849Z',
    authorName: 'John Doe',
    authorAvatar: 'https://pickaface.net/gallery/avatar/unr_johndoe_170608_0222_2q7n9di.png',
    type: 'core',
    status: '',
    activeDiscussionsCount: 3,
    linkedStories: [],
    tags: ['tag4'],
  },
  {
    storySlug: 'sample-story-8',
    storyName: 'Sample Story 8',
    storyImage:
      'https://images.unsplash.com/photo-1512414584153-b9a3e3484950?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=500&q=80',
    brandSlug: 'beyonder',
    brandName: 'Beyonder',
    publishedAt: '2020-07-28T09:15:08.849Z',
    authorName: 'John Doe',
    authorAvatar: 'https://pickaface.net/gallery/avatar/unr_johndoe_170608_0222_2q7n9di.png',
    type: 'core',
    status: '',
    activeDiscussionsCount: 0,
    linkedStories: [],
    tags: ['tag5'],
  },
  {
    storySlug: 'sample-story-9',
    storyName: 'Sample Story 9',
    storyImage:
      'https://instagram.frix7-1.fna.fbcdn.net/v/t51.2885-15/e35/p1080x1080/66659246_182293466123951_7099247170585147603_n.jpg?_nc_ht=instagram.frix7-1.fna.fbcdn.net&_nc_cat=111&_nc_ohc=mwWpECBTnpAAX82N3jD&oh=242e4b40e951e97f802c577b962601b8&oe=5F5E079D',
    brandSlug: 'maker',
    brandName: 'Maker',
    publishedAt: '2020-07-28T09:15:08.849Z',
    authorName: 'Richard Doe',
    authorAvatar: 'https://pickaface.net/gallery/avatar/unr_johndoe_170608_0222_2q7n9di.png',
    type: 'core',
    status: '',
    activeDiscussionsCount: 3,
    linkedStories: [],
    tags: [],
  },
  {
    storySlug: 'sample-story-10',
    storyName: 'Sample Story 10',
    storyImage: 'https://pbs.twimg.com/media/BqfBe4_CEAAb8CG?format=jpg&name=900x900',
    brandSlug: 'original',
    brandName: 'Original',
    publishedAt: '2020-07-28T09:15:08.849Z',
    authorName: 'Elizabeth Doe',
    authorAvatar: 'https://pickaface.net/gallery/avatar/unr_johndoe_170608_0222_2q7n9di.png',
    type: 'core',
    status: '',
    activeDiscussionsCount: 1,
    linkedStories: [],
    tags: ['tag1', 'tag2'],
  },
  {
    storySlug: 'sample-story-11',
    storyName: 'Sample Story 11',
    storyImage:
      'https://images.unsplash.com/photo-1597723602636-05c9fd9cf807?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60',
    brandSlug: 'outsider',
    brandName: 'Outsider',
    publishedAt: '2020-07-28T09:15:08.849Z',
    authorName: 'John Doe',
    authorAvatar: 'https://pickaface.net/gallery/avatar/unr_johndoe_170608_0222_2q7n9di.png',
    type: 'core',
    status: '',
    activeDiscussionsCount: 3,
    linkedStories: [],
    tags: [],
  },
  {
    storySlug: 'sample-story-12',
    storyName: 'Sample Story 12',
    storyImage:
      'https://images.unsplash.com/photo-1597932384641-8c315d7357d7?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60',
    brandSlug: 'timeliner',
    brandName: 'Timeliner',
    publishedAt: '2020-07-28T09:15:08.849Z',
    authorName: 'John Doe',
    authorAvatar: 'https://pickaface.net/gallery/avatar/unr_johndoe_170608_0222_2q7n9di.png',
    type: 'core',
    status: '',
    activeDiscussionsCount: 0,
    linkedStories: [],
    tags: ['tag5'],
  },
  {
    storySlug: 'sample-story-13',
    storyName: 'Sample Story 13',
    storyImage: 'https://pbs.twimg.com/media/BqfBe4_CEAAb8CG?format=jpg&name=900x900',
    brandSlug: 'bloomer',
    brandName: 'Bloomer',
    publishedAt: '2020-07-28T09:15:08.849Z',
    authorName: 'Robert Doe',
    authorAvatar: 'https://pickaface.net/gallery/avatar/unr_johndoe_170608_0222_2q7n9di.png',
    type: 'core',
    status: '',
    activeDiscussionsCount: 0,
    linkedStories: [],
    tags: [],
  },
  {
    storySlug: 'sample-story-14',
    storyName: 'Sample Story 14',
    storyImage:
      'https://images.unsplash.com/photo-1583951290243-970177c6277d?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60',
    brandSlug: 'beyonder',
    brandName: 'Beyonder',
    publishedAt: '2020-07-28T09:15:08.849Z',
    authorName: 'John Doe',
    authorAvatar: 'https://pickaface.net/gallery/avatar/unr_johndoe_170608_0222_2q7n9di.png',
    type: 'core',
    status: '',
    activeDiscussionsCount: 1,
    linkedStories: [],
    tags: ['tag2'],
  },
  {
    storySlug: 'sample-story-15',
    storyName: 'Sample Story 15',
    storyImage:
      'https://images.unsplash.com/photo-1597966823267-5184efbddc8f?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60',
    brandSlug: 'maker',
    brandName: 'Maker',
    publishedAt: '2020-07-28T09:15:08.849Z',
    authorName: 'John Doe',
    authorAvatar: 'https://pickaface.net/gallery/avatar/unr_johndoe_170608_0222_2q7n9di.png',
    type: 'core',
    status: '',
    activeDiscussionsCount: 0,
    linkedStories: [],
    tags: ['tag5'],
  },
  {
    storySlug: 'sample-story-16',
    storyName: 'Sample Story 16',
    storyImage:
      'https://images.unsplash.com/photo-1597834269142-c134e4a5f20f?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60',
    brandSlug: 'original',
    brandName: 'Original',
    publishedAt: '2020-07-28T09:15:08.849Z',
    authorName: 'Jane Doe',
    authorAvatar: 'https://pickaface.net/gallery/avatar/unr_johndoe_170608_0222_2q7n9di.png',
    type: 'core',
    status: '',
    activeDiscussionsCount: 1,
    linkedStories: ['sample-story-2'],
    tags: ['tag4'],
  },
  {
    storySlug: 'sample-story-17',
    storyName: 'Sample Story 17',
    storyImage:
      'https://images.unsplash.com/photo-1597935258735-285ded529e93?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60',
    brandSlug: 'outsider',
    brandName: 'Outsider',
    publishedAt: '2020-07-28T09:15:08.849Z',
    authorName: 'John Doe',
    authorAvatar: 'https://pickaface.net/gallery/avatar/unr_johndoe_170608_0222_2q7n9di.png',
    type: 'core',
    status: '',
    activeDiscussionsCount: 3,
    linkedStories: [],
    tags: ['tag3', 'tag1'],
  },
  {
    storySlug: 'sample-story-18',
    storyName: 'Sample Story 18',
    storyImage:
      'https://images.unsplash.com/photo-1597966823267-5184efbddc8f?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60',
    brandSlug: 'timeliner',
    brandName: 'Timeliner',
    publishedAt: '2020-07-28T09:15:08.849Z',
    authorName: 'John Doe',
    authorAvatar: 'https://pickaface.net/gallery/avatar/unr_johndoe_170608_0222_2q7n9di.png',
    type: 'core',
    status: '',
    activeDiscussionsCount: 1,
    linkedStories: [],
    tags: ['tag5', 'tag2'],
  },
];

export default (req: NextApiRequest, res: NextApiResponse): void => {
  const offset = parseInt(req.query.offset as string, 10) || 0;
  const limit = parseInt(req.query.limit as string, 10) || 20;
  const result = req.query.brand ? stories.filter((s) => s.brandSlug === req.query.brand) : stories;

  switch (req.method) {
    case 'GET':
      res.status(200).json(result.slice(offset, offset + limit));
      break;
    default:
      res.setHeader('Allow', ['GET']);
      res.status(405).end(`Method ${req.method} Not Allowed`);
  }
};
